<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Liste des Projets</title>
    {{ template "layouts/include-css.html" }}
</head>
<body>
{{ template "layouts/topbar.html" }}

<div class="container-fluid">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4>{{ .PaginatedItems.TotalItemCount }} projets en tout</h4>
        </div>
        <div class="panel-body">
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <td>Name</td>
                    <td>Short Description</td>
                    <td>Promotions</td>
                    <td>Villes</td>
                    <td>Nombre d'etudiants</td>
                    <td>Technos</td>
                    <td>Themes</td>
                    <td>Manageur</td>
                </tr>
                </thead>
                {{ range $element := .PaginatedItems.Items }}

                <tr>
                    <td><a href="/projects/{{ $element.Name }}">{{ $element.Name }}</a></td>
                    <td>{{ $element.ShortDescription }}</td>
                    <td>{{ $element.Promotions }}</td>
                    <td>{{ $element.Cities }}</td>
                    <td>{{ len $element.Members }}</td>
                    <td></td>
                    <td></td>
                    <td>
                        {{ if $element.Manager }}
                        {{ $element.Manager.Login }}
                        {{ end }}
                    </td>
                </tr>
                {{ end }}
            </table>
            <ul class="pagination center-block">
                {{ if .HasPreviousPage }}
                <li><a href="/projects/list?page={{ decr .PaginatedItems.CurrentPage }}&limit={{ .Limit }}">
                    <span class="glyphicon glyphicon-chevron-left"></span></a></li>
                {{ end }}
                {{ if .ShowGoToFirst }}
                <li><a href="/projects/list?page=1&limit={{ .Limit }}">
                    1
                </a></li>
                {{ end }}
                {{ range $element := .PaginatedItems.PagesToShow }}
                <li class="{{ if eq $element $.PaginatedItems.CurrentPage }}active{{ end }}">
                    <a class="text-primary" href="/projects/list?page={{ $element }}&limit={{ $.Limit }}">
                        {{ $element }}</a></li>
                {{ end }}
                {{ if .ShowGoToLast }}
                <li><a href="/projects/list?page={{ .PaginatedItems.TotalPageCount }}&limit={{ .Limit }}">
                    {{ .PaginatedItems.TotalPageCount }}
                </a></li>
                {{ end }}
                {{ if .HasNextPage }}
                <li><a href="/projects/list?page={{ incr .PaginatedItems.CurrentPage }}&limit={{ .Limit }}">
                    <span class="glyphicon glyphicon-chevron-right"></span></a></li>
                {{ end }}
            </ul>
        </div>
    </div>
</div>
</body>
{{ template "layouts/include-js.html" }}

</html>